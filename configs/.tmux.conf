# shift the starting window index
set -g base-index 1

# Set new prefix to Ctrl+a
unbind C-b
set-option -g prefix C-a

# Send prefix to the terminal
bind-key C-a send-prefix

# Send prefix to the terminal
bind-key C-a last-window 

# Scrollback buffer size (in lines)
set -g history-limit 5000

# Listen for activity on all windows
set -g bell-action any

# Set base index to 0
set -g base-index 0

set -g default-terminal "screen-256color"
setw -g xterm-keys on
setw -g automatic-rename off
set -g set-titles on

# Reload tmux config
bind-key R source-file ~/.tmux.conf

# Detach from tmux session
bind-key d detach
bind-key C-d detach

# Choose client to detach from
bind-key D choose-client

# Choose window/session
bind-key "'" choose-window
bind-key '"' choose-session

# Display visible indicator of each pane
bind-key w display-panes

# Navigate windows using j/k, and ctrl+j/k (no prefix)
bind-key -r j select-pane -t :.-
bind-key -r k select-pane -t :.+
bind-key -r C-j select-pane -t :.-
bind-key -r C-k select-pane -t :.+

# Navigate windows using h/l, and ctrl+h/l (no prefix)
bind-key -r h select-window -t :-
bind-key -r l select-window -t :+
bind-key -r C-h select-window -t :-
bind-key -r C-l select-window -t :+

# Swap panes
bind-key -r J swap-pane -D
bind-key -r K swap-pane -U

# Kill current pane/window
bind-key q confirm-before kill-pane
bind-key Q confirm-before kill-window
bind-key C-q confirm-before kill-pane

# New window
bind-key C-c new-window
bind-key c new-window

# Next window
bind-key -r Space next-window
bind-key -r "C-Space" next-window

# Previous window
bind-key -r BSpace previous-window

# Rename window
bind-key A command-prompt "rename-window %%"

# Split panes
bind-key - split-window -v
bind-key _ split-window -v
bind-key | split-window -h

# Resize panes
bind-key -r < resize-pane -L 3
bind-key -r > resize-pane -R 3
bind-key -r + resize-pane -U 1
bind-key -r = resize-pane -D 1

# Run catppuccin tmux plugin
run ~/.config/tmux/plugins/catppuccin/tmux/catppuccin.tmux
